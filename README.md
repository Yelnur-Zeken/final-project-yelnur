# Financial Dashboard with Alpha Vantage API, News API, and 2FA

This project allows users to track financial data using the Alpha Vantage API, stay updated with the latest news using the News API, and provides an additional layer of security with Two-Factor Authentication (2FA). 

## Setup Instructions

### Prerequisites:
1. **Node.js (v14.x or higher)**: Make sure Node.js is installed on your machine.
2. **MongoDB**: Set up a MongoDB database locally or use a cloud database (MongoDB Atlas).
3. **API Keys**: Youâ€™ll need API keys for the Alpha Vantage API and the News API.

### 1. Clone the Repository

Clone the repository to your local machine:


### 2. Install Dependencies

Install all required dependencies:


### 3. Set Up Environment Variables

ALPHA_VANTAGE_KEY=your_alpha_vantage_api_key NEWS_API_KEY=your_news_api_key GMAIL_USER=your_email@gmail.com GMAIL_PASS=your_app_password


- `ALPHA_VANTAGE_KEY`: Get your API key from [Alpha Vantage](https://www.alphavantage.co/support/#api-key).
- `NEWS_API_KEY`: Get your API key from [News API](https://newsapi.org/).
- `GMAIL_USER` and `GMAIL_PASS`: Set up a Gmail account and generate an app password by following [this guide](https://support.google.com/accounts/answer/185833).

### 4. Start the Server

Start the server:


Your server should now be running on `http://localhost:3000`.

## API Details

### Alpha Vantage API Integration

This API fetches financial data such as stock quotes, currency exchange rates, and more.

- **Endpoint**: `/api/financial`
- **Request Method**: GET
- **Parameters**:
  - `symbol`: Stock symbol (e.g., AAPL for Apple)
  - `function`: Type of financial data (e.g., `TIME_SERIES_INTRADAY`, `TIME_SERIES_DAILY`, etc.)
  - Example request: `/api/stock?symbol=AAPL&function=TIME_SERIES_DAILY`

- **Response**: 
  Returns a JSON object containing financial data such as time series, open/close prices, etc.

### News API Integration

Fetch the latest news articles relevant to the financial market or any other topics.

- **Endpoint**: `/api/news`
- **Request Method**: GET


- **Response**: 
  Returns a list of the latest news articles in the specified category.

### User Registration and Login with 2FA

**POST /register**: Allows users to register an account with their details. It also sets up Two-Factor Authentication (2FA) for additional security.

**POST /login**: Allows users to log in with their credentials. It requires the user to input a 2FA code generated by an authenticator app.

### 2FA Setup Instructions

During registration, the system will generate a temporary secret key for Two-Factor Authentication (2FA) and provide a QR code. This QR code can be scanned using an authenticator app (e.g., Google Authenticator).

1. **During Registration**: A temporary secret is generated using `speakeasy` and a QR code is created using `qrcode`. This QR code will be emailed to the user.
2. **During Login**: The user will enter the 2FA code provided by their authenticator app, which will be validated using the `speakeasy.totp.verify()` function.
3. If the 2FA code is valid, the user will be logged in successfully.

If you experience issues with 2FA, ensure that the time on both the server and the authenticator app are synchronized. You can regenerate the secret if needed.

## Design Rationale

### Alpha Vantage API Integration:
The Alpha Vantage API is used for retrieving financial data because of its comprehensive set of functionalities that cover stock data, cryptocurrency, forex, and technical indicators. It allows real-time financial tracking and historical data retrieval, which is ideal for building a financial dashboard.

### News API Integration:
The News API is used to fetch the latest news articles, which helps users stay informed about financial market trends and events. By integrating this API, users can get up-to-date news and make more informed decisions based on current market conditions.

### Two-Factor Authentication (2FA):
To enhance the security of user accounts, 2FA is implemented using the `speakeasy` library. This ensures that even if an attacker has access to the user's password, they cannot log in without the second factor (a time-sensitive code from an authenticator app). 

By implementing 2FA, we reduce the risk of unauthorized access and improve overall security.

## Troubleshooting

- **API Errors**: If the Alpha Vantage or News API returns an error, check the API usage limits or ensure that the correct API key is provided.
- **2FA Issues**: Ensure that the time on the server and the device running the authenticator app is synchronized. Regenerate the secret if necessary.


